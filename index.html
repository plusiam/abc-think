<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABC ìƒê°ë°”ê¾¸ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @media print {
            body * { visibility: hidden; }
            #resultCard, #resultCard * { visibility: visible; }
            #resultCard {
                position: absolute; left: 0; top: 0; width: 100%; margin: 0; padding: 1rem;
                border: none !important; box-shadow: none !important;
            }
            .no-print { display: none; }
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen p-4 sm:p-6 font-sans">

    <div class="w-full max-w-3xl mx-auto">
        <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-10 space-y-8 border-t-8 border-green-600">
            <header class="text-center">
                <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">ABC ìƒê°ë°”ê¾¸ê¸°</h1>
                <p class="text-gray-500 mt-2">ë‚˜ì˜ ìƒê°ì„ ëŒì•„ë³´ë©° ë§ˆìŒì„ ê±´ê°•í•˜ê²Œ ì¡°ì ˆí•˜ëŠ” ë²•ì„ ë°°ì›Œìš”.</p>
            </header>

            <form id="abcForm" class="space-y-8">
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 bg-gray-50 p-4 rounded-lg">
                    <div>
                        <label for="schoolName" class="font-semibold text-gray-800">í•™êµ</label>
                        <input type="text" id="schoolName" name="schoolName" class="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ì˜ˆ: ë§ˆìŒì´ˆë“±í•™êµ">
                    </div>
                    <div>
                        <label for="className" class="font-semibold text-gray-800">í•™ë…„/ë°˜</label>
                        <input type="text" id="className" name="className" class="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ì˜ˆ: 5í•™ë…„ 1ë°˜">
                    </div>
                    <div>
                        <label for="studentName" class="font-semibold text-gray-800">ì´ë¦„</label>
                        <input type="text" id="studentName" name="studentName" class="mt-1 w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ì˜ˆ: í™ê¸¸ë™">
                    </div>
                </div>

                <div>
                    <label for="situation" class="text-xl font-semibold text-gray-800 block mb-2">ğŸ¤” 1. ì–´ë–¤ ìƒí™©ì´ì—ˆë‚˜ìš”?</label>
                    <textarea id="situation" name="situation" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ìµœê·¼ ë‚˜ë¥¼ í˜ë“¤ê²Œ í–ˆë˜ ìƒí™©ì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ë³´ì„¸ìš”."></textarea>
                </div>

                <div>
                    <label class="text-xl font-semibold text-gray-800 block mb-3">ğŸ§ 2. ê·¸ ìƒí™©ì€ ë‚´ê°€ ë°”ê¿€ ìˆ˜ ìˆë‚˜ìš”?</label>
                    <div class="flex flex-col sm:flex-row gap-x-6 gap-y-3 bg-gray-50 p-4 rounded-lg">
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="control" value="ë°”ê¿€ ìˆ˜ ìˆëŠ” ê²ƒ" class="text-green-600 focus:ring-green-500"><span>âœ… ë°”ê¿€ ìˆ˜ ìˆëŠ” ê²ƒ (ë‚´ ë§, í–‰ë™, ìƒê° ë“±)</span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="control" value="ë°”ê¾¸ê¸° ì–´ë ¤ìš´ ê²ƒ" class="text-green-600 focus:ring-green-500"><span>âš ï¸ ë°”ê¾¸ê¸° ì–´ë ¤ìš´ ê²ƒ (ì‹œí—˜ ê²°ê³¼, íƒ€ì¸ì˜ ë°˜ì‘ ë“±)</span></label>
                        <label class="flex items-center space-x-2 cursor-pointer"><input type="radio" name="control" value="ë°”ê¿€ ìˆ˜ ì—†ëŠ” ê²ƒ" class="text-green-600 focus:ring-green-500"><span>ğŸš« ë°”ê¿€ ìˆ˜ ì—†ëŠ” ê²ƒ (ê³¼ê±°, ë‚ ì”¨, íƒ€ì¸ì˜ ë§ˆìŒ ë“±)</span></label>
                    </div>
                </div>

                <hr>
                <p class="text-center text-gray-600 font-medium">ì´ì œ ê·¸ ìƒí™©ì„ ABCë¡œ ë‚˜ëˆ„ì–´ ë¶„ì„í•´ë³¼ê²Œìš”!</p>
                
                <div>
                    <label for="eventA" class="text-xl font-semibold text-gray-800 block mb-2">A. ì¼ì–´ë‚œ ì‚¬ê±´ (Activating Event)</label>
                    <textarea id="eventA" name="eventA" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ëˆ„ê°€ ë´ë„ ê·¸ë ‡ë‹¤ê³  í•  ìˆ˜ ìˆëŠ” 'ê°ê´€ì ì¸ ì‚¬ì‹¤'ë§Œ ì ì–´ë³´ì„¸ìš”. (ì˜ˆ: ì‹œí—˜ì—ì„œ 3ë¬¸ì œë¥¼ í‹€ë ¸ë‹¤)"></textarea>
                </div>

                <div>
                    <label for="beliefB" class="text-xl font-semibold text-gray-800 block mb-2">B. ë‚˜ì˜ ìƒê° (Belief)</label>
                    <textarea id="beliefB" name="beliefB" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ê·¸ ì‚¬ê±´ì— ëŒ€í•´ ë‚˜ë„ ëª¨ë¥´ê²Œ ë– ì˜¤ë¥¸ 'ìë™ì ì¸ ìƒê°'ì„ ì ì–´ë³´ì„¸ìš”. (ì˜ˆ: ë‚˜ëŠ” ë©ì²­í•´. ì—­ì‹œ ë‚œ ì•ˆë¼.)"></textarea>
                </div>

                <div>
                    <label for="consequenceC" class="text-xl font-semibold text-gray-800 block mb-2">C. ê²°ê³¼ (Consequence)</label>
                    <textarea id="consequenceC" name="consequenceC" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ê·¸ ìƒê° ë•Œë¬¸ì— ì–´ë–¤ ê°ì •ì„ ëŠê¼ˆê³ , ì–´ë–»ê²Œ í–‰ë™í–ˆë‚˜ìš”? (ì˜ˆ: ìŠ¬í¼ì„œ í¬ê¸°í•˜ê³  ì‹¶ì–´ì¡Œë‹¤.)"></textarea>
                </div>
                
                <hr>
                <p class="text-center text-green-700 font-bold text-lg">âœ¨ ì´ì œ, ìƒê°ì„ ë°”ê¾¸ì–´ ìƒˆë¡œìš´ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë³¼ ì‹œê°„ì´ì—ìš”! âœ¨</p>

                <div>
                    <div class="flex items-center gap-4 mb-2">
                        <label for="beliefB_prime" class="text-xl font-semibold text-gray-800">B'. ê±´ê°•í•œ ìƒê° ë°”ê¾¸ê¸°</label>
                        <button type="button" id="hintBtn" class="bg-yellow-300 text-yellow-800 rounded-full w-7 h-7 text-lg font-bold hover:bg-yellow-400 transition">ğŸ’¡</button>
                    </div>
                    <div id="hintBox" class="hidden p-3 mb-3 bg-yellow-100 border-l-4 border-yellow-400 text-yellow-800 rounded-r-lg"></div>
                    <textarea id="beliefB_prime" name="beliefB_prime" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ìë™ì ì¸ ìƒê°ì„ ë” í˜„ì‹¤ì ì´ê³ , ë‚˜ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ê±´ê°•í•œ ìƒê°ìœ¼ë¡œ ë°”ê¾¸ì–´ ì ì–´ë³´ì„¸ìš”."></textarea>
                </div>
                
                <div>
                    <label for="consequenceC_prime" class="text-xl font-semibold text-gray-800 block mb-2">C'. ë³€í™”ëœ ê²°ê³¼</label>
                    <textarea id="consequenceC_prime" name="consequenceC_prime" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500" placeholder="ê±´ê°•í•œ ìƒê°ì„ í•˜ë‹ˆ ê¸°ë¶„ì´ë‚˜ í–‰ë™ì´ ì–´ë–»ê²Œ ë‹¬ë¼ì§ˆê¹Œìš”? (ì˜ˆ: ì•„ì‰½ì§€ë§Œ, ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì„ ê±°ì•¼!)"></textarea>
                </div>


                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button type="button" id="submitBtn" class="w-full sm:w-2/3 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-transform duration-200 hover:scale-105 shadow-md">
                        ABC ìƒê° ì •ë¦¬í‘œ ì™„ì„±
                    </button>
                    <button type="button" id="resetBtn" class="w-full sm:w-1/3 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-transform duration-200 hover:scale-105 shadow-md">
                        ë‹¤ì‹œ ì“°ê¸°
                    </button>
                </div>
            </form>
        </div>

        <div id="resultCard" class="hidden">
            <div id="resultContent" class="bg-white rounded-2xl shadow-lg p-6 sm:p-10 mt-10 border-t-8 border-green-600"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const abcForm = document.getElementById('abcForm');
            const submitBtn = document.getElementById('submitBtn');
            const resetBtn = document.getElementById('resetBtn');
            const hintBtn = document.getElementById('hintBtn');
            const hintBox = document.getElementById('hintBox');
            const resultCard = document.getElementById('resultCard');
            const resultContent = document.getElementById('resultContent');
            
            const hints = [
                "ë§Œì•½ ê°€ì¥ ì¹œí•œ ì¹œêµ¬ê°€ ë˜‘ê°™ì€ ìƒí™©ì´ë¼ë©´ ë­ë¼ê³  ë§í•´ì¤„ ê±´ê°€ìš”?",
                "ì´ ìƒê°ì´ 100% ì‚¬ì‹¤ì´ë¼ê³  ì¦ëª…í•  ìˆ˜ ìˆë‚˜ìš”? ë‹¤ë¥¸ ê°€ëŠ¥ì„±ì€ ì—†ì„ê¹Œìš”?",
                "ìµœì•…ì˜ ê²½ìš°ë§Œ ìƒê°í•˜ê³  ìˆì§„ ì•Šë‚˜ìš”? ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ê°€ì¥ ì¢‹ì€ ê²½ìš°ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                "1ë…„ ë’¤, 5ë…„ ë’¤ì—ë„ ì´ ì¼ì´ ì—¬ì „íˆ ì¤‘ìš”í•˜ê²Œ ëŠê»´ì§ˆê¹Œìš”?",
                "ì´ ìƒê° ë§ê³  ë‚˜ë¥¼ ë” ê¸°ë¶„ ì¢‹ê²Œ ë§Œë“œëŠ” ë‹¤ë¥¸ ìƒê°ì€ ì—†ì„ê¹Œìš”?",
                "ëª¨ë“  ì‚¬ëŒì´ ë‚˜ì²˜ëŸ¼ ìƒê°í• ê¹Œìš”? ë‹¤ë¥´ê²Œ ìƒê°í•˜ëŠ” ì‚¬ëŒë„ ìˆì§€ ì•Šì„ê¹Œìš”?"
            ];

            hintBtn.addEventListener('click', () => {
                const randomHint = hints[Math.floor(Math.random() * hints.length)];
                hintBox.textContent = randomHint;
                hintBox.classList.toggle('hidden');
            });

            resetBtn.addEventListener('click', () => {
                abcForm.reset();
                hintBox.classList.add('hidden');
                resultCard.classList.add('hidden');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            submitBtn.addEventListener('click', () => {
                const formData = new FormData(abcForm);
                const data = Object.fromEntries(formData.entries());

                if (!data.schoolName || !data.className || !data.studentName || !data.situation || !data.control || !data.eventA || !data.beliefB || !data.consequenceC || !data.beliefB_prime || !data.consequenceC_prime) {
                    alert('ëª¨ë“  í•­ëª©ì„ ì±„ì›Œì£¼ì„¸ìš”! ğŸ˜Š');
                    return;
                }
                
                resultContent.innerHTML = `
                    <div class="text-right text-base text-gray-600 font-semibold">
                        <p>${data.schoolName} ${data.className} ${data.studentName}</p>
                    </div>
                    <header class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-gray-800">ABC ìƒê° ì •ë¦¬í‘œ</h2>
                        <p class="text-gray-500 mt-2">${data.studentName} í•™ìƒì˜ ìƒê°ì„ ëŒì•„ë³´ëŠ” ì‹œê°„</p>
                    </header>
                    <div class="mb-6">
                        <h3 class="text-lg font-semibold text-gray-700">ğŸ§ ë¶„ì„í•œ ìƒí™©</h3>
                        <p class="bg-gray-100 p-3 mt-1 rounded-md">${data.situation}</p>
                        <p class="text-sm text-green-700 font-bold mt-1">ì´ ìƒí™©ì€ ë‚´ê°€ [${data.control}] ì˜ì—­ì— ìˆë‹¤ê³  ìƒê°í•´ìš”.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="space-y-4 bg-red-50 p-4 rounded-lg border border-red-200">
                            <h3 class="text-xl font-bold text-red-700 text-center">ë‚˜ì˜ ìë™ì  ì‚¬ê³ </h3>
                            <div>
                                <strong class="text-red-600">A. ì‚¬ê±´</strong>
                                <p class="mt-1">${data.eventA}</p>
                            </div>
                            <div>
                                <strong class="text-red-600">B. ìƒê°</strong>
                                <p class="mt-1">${data.beliefB}</p>
                            </div>
                            <div>
                                <strong class="text-red-600">C. ê²°ê³¼</strong>
                                <p class="mt-1">${data.consequenceC}</p>
                            </div>
                        </div>
                        <div class="space-y-4 bg-green-50 p-4 rounded-lg border border-green-200">
                            <h3 class="text-xl font-bold text-green-700 text-center">ê±´ê°•í•œ ìƒê° ë°”ê¾¸ê¸°</h3>
                             <div>
                                <strong class="text-green-600">A. ì‚¬ê±´</strong>
                                <p class="mt-1">${data.eventA}</p>
                            </div>
                            <div>
                                <strong class="text-green-600">B'. ë°”ê¾¼ ìƒê°</strong>
                                <p class="mt-1">${data.beliefB_prime}</p>
                            </div>
                            <div>
                                <strong class="text-green-600">C'. ë³€í™”ëœ ê²°ê³¼</strong>
                                <p class="mt-1">${data.consequenceC_prime}</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 text-center no-print">
                        <button type="button" id="printBtn" class="bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-5 rounded-lg transition">ğŸ–¨ï¸ ì¸ì‡„ / PDFë¡œ ì €ì¥</button>
                    </div>
                `;

                resultCard.classList.remove('hidden');
                resultCard.scrollIntoView({ behavior: 'smooth', block: 'start' });

                document.getElementById('printBtn')?.addEventListener('click', () => window.print());
            });
        });
    </script>
</body>
</html>